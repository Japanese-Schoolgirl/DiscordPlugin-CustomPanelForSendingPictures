# Введение:
Этот плагин был написан для себя и людей, с которыми я общаюсь. Но поскольку плагин может быть полезен ещё кому-то я также выкладываю его здесь. При желании переделать этот плагин (а учитывая мою неопытность, это вероятно даже нужно) проверьте также файл лицензии.<br />

P.S. Я очень редко пользуюсь GitHub'ом, так что для подобного проекта это мой первый опыт. Не удивляйтесь каким-нибудь нелепостям с commit'ами и т.д.<br />

# Описание плагина:
Этот плагин добавляет в меню специальную кнопку "Pictures" справа от кнопки выбора эмодзи. Нажатие по этой кнопке загружает панель, содержимое которой берётся из специальной папки, которую создаёт этот плагин. В папке сканируются следующие типы файлов: ".jpg", ".jpeg", ".bmp", ".png", ".gif", ".src", ".sent".<br />
Файлы типа ".src" и ".sent" являются JSON файлами и они содержат ссылку на веб файл.<br />
По итогу сканирования в панели будут отображены привью всех ваших файлов из папки. Нажав по файлу в этой панели вы сразу же отправите файл картинки (или ссылку картинки, в случае для ".src" и ".sent") в чат Дискорда, который у вас открыт.<br />
Файлы типа ".sent" в панели заменяют файл с идентичным названием и расширением файла. Файлы ".sent" будут автоматически генерироваться при отправке локальных файлов и использоваться, если включена соответствующая настройка.<br />
### Пример работы:
![Пример работы](https://raw.githubusercontent.com/Japanese-Schoolgirl/DiscordPlugin-CustomPanelForSendingPictures/main/Previews/WorkExample.gif)
С версии 0.0.7 теперь этот **плагин будет находить и сканировать подпапки, находящиеся в главной папке. Содержимое этих папок будет отображено секциями/группами в самой панели**. Подпапки внутри подпапок сканироваться не будут. Также *не рекомендуется* хранить 300+ картинок с приличным весом, потому что это всё сказывается на скорость прогрузки панели.<br />
### Выглядит это так:
![Выглядит это так:](https://raw.githubusercontent.com/Japanese-Schoolgirl/DiscordPlugin-CustomPanelForSendingPictures/main/Previews/SubfoldersSupport.png)
### Меню настроек:
![Меню настроек](https://raw.githubusercontent.com/Japanese-Schoolgirl/DiscordPlugin-CustomPanelForSendingPictures/main/Previews/Settings.png)

# Совместимость:
Я пользуюсь [EnhancedDiscord](https://github.com/joe27g/EnhancedDiscord) и могу отслеживать проблемы возникающие только на нём. Тем не менее плагин у пользователей BetterDiscord должен работать исправно, потому что он сделан как плагин для [BetterDiscord](https://github.com/rauenzi/BetterDiscordApp).<br />
Плагин также использует [Zere's Plugin Library](https://rauenzi.github.io/BDPluginLibrary/release/0PluginLibrary.plugin.js).<br />

# Установка:
1) Установите [EnhancedDiscord](https://enhanceddiscord.com/EnhancedDiscord.exe) или [BetterDiscord](https://github.com/rauenzi/BBDInstaller/releases/latest/download/BandagedBD.exe);<br />
2) Перенесите [Zere's Plugin Library](https://rauenzi.github.io/BDPluginLibrary/release/0PluginLibrary.plugin.js) файл в папку с вашими плагинами;<br />
3) Перенесите ".js" файл плагина в папку с вашими плагинами;<br />
4) После включения этого плагина, в папке с плагином появится папка, в которую вам нужно перенести картинки, которые вы хотите использовать.<br />
<br />P.S. Плагин будет хранить информацию о содержимом в папке в файле CustomPanelForSendingPictures.settings.json, а вашу конфигурацию плагина в CustomPanelForSendingPictures.config.json (вы также можете удалить эти файлы, чтобы полностью сбросить все настройки).<br />

# Поддержка:
Если вы желаете помочь мне с этим кривоватым проектом, то обратите внимание на [TODO](https://github.com/Japanese-Schoolgirl/DiscordPlugin-CustomPanelForSendingPictures/blob/main/README_RU.md#%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F), где указаны проблемы, которые я решаю на данный момент. Смотрите подробнее в разделе [Коммуникация](https://github.com/Japanese-Schoolgirl/DiscordPlugin-CustomPanelForSendingPictures/blob/main/README_RU.md#%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F) о способах связи со мной.
Если вы хотите помочь мне денежкой, то вот мои реквизиты:<br />
https://donate.qiwi.com/payin/Schoolgirl<br />
https://www.donationalerts.com/r/JapaneseSchoolgirl<br />

# Коммуникация:
Я не принимаю неизвестные мне заявки в друзья, поэтому если вы захотите написать мне в DM Дискорда, то велик шанс что я вас не замечу. Вместо этого лучше используйте как средство коммуникации со мной GitHub или [Steam](https://steamcommunity.com/id/EternalSchoolgirl/) (вам необязательно добавляться ко мне, у меня открытая стена комментариев). У меня также есть [Discord сервер](https://discord.gg/nZMbKkw), но в нём ручная проверка каждого пользователя перед тем, как он получит разрешение на возможность писать и видеть большинство каналов для общения.<br />

# TODO:
- ".sent" файлы не генерируются автоматически, это связано с проблемой получения ссылки из ID отправленного файла (потому что отправка файлов не возвращает ID);<br />
- Парсинг конфигурации кривоват, я собираюсь его исправить в скором времени;<br />
- Код стоит немного реорганизовать, он иногда странно реагирует на многократными перезагрузки и его много где можно оптимизировать;<br />
- Опция на автозакрытие панели после клика без шифта на картинку с панели;<br />
- Регулирование через настройки размера картинок (только для версии с ссылками);<br />
- Отображение названий выбираемых картинок;<br />
- Опция на хоткей для повторения прошлой отправки файла/ссылки в активный канал;<br />
- Регулирование кулдауна на нажатие в настройках.<br />